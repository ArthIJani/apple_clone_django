{% extends 'base.html' %}
{% load static %}

{% block head_title %}{{ page_title }} - {{ block.super }}{% endblock head_title %}
{% block extra_head %}
<style>

    .video-container video {
        position: absolute;
        top: 0;
        left: 0; 
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
</style>
{% endblock %}
{% block content %}
<div class="container mx-auto px-4">
    <header class="py-12">
        <h1 class="text-4xl font-bold">iPhone</h1>
        <p class="text-xl">Designed to be loved.</p>
    </header>

    <section class="mb-12 relative">
        <div class="bg-gray-900 rounded-3xl overflow-hidden">
            <div>
                <video id="iphoneVideo" loop autoplay muted class="w-full h-full object-cover">
                    <source src="{% static 'videos/iphone16.mp4' %}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
        </div>
        <button id="playPauseBtn" class="absolute bottom-4 right-4 bg-white bg-opacity-25 rounded-full p-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        </button>
    </section>
</div>

<script>
    const video = document.getElementById('iphoneVideo');
    const playPauseBtn = document.getElementById('playPauseBtn');
    const playIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>`;
    const pauseIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>`;

    playPauseBtn.addEventListener('click', togglePlayPause);

    function togglePlayPause() {
        if (video.paused) {
            video.play();
            playPauseBtn.innerHTML = pauseIcon;
        } else {
            video.pause();
            playPauseBtn.innerHTML = playIcon;
        }
    }

    video.addEventListener('ended', function() {
        playPauseBtn.innerHTML = playIcon;
    });
</script>
{% endblock content %}